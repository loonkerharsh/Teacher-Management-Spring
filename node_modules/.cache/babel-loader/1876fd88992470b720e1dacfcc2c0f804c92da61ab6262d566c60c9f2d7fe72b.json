{"ast":null,"code":"const handleLogin = async e => {\n  e.preventDefault();\n  const response = await fetch('http://localhost:8080/api/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  });\n  if (response.ok) {\n    const data = await response.json();\n    const {\n      name,\n      role\n    } = data;\n    localStorage.setItem(\"teacherName\", name);\n    localStorage.setItem(\"userRole\", role);\n    if (role === \"teacher\") {\n      navigate(\"/dashboard\");\n    } else {\n      navigate(\"/admin-dashboard\"); // future\n    }\n  } else {\n    setMessage(\"Login failed. Try again.\");\n  }\n};","map":{"version":3,"names":["handleLogin","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","username","password","ok","data","json","name","role","localStorage","setItem","navigate","setMessage"],"sources":["D:/reactProgs/teacher-frontend/src/pages/Login.js"],"sourcesContent":["const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n  \r\n    const response = await fetch('http://localhost:8080/api/login', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ username, password })\r\n    });\r\n  \r\n    if (response.ok) {\r\n      const data = await response.json();\r\n      const { name, role } = data;\r\n  \r\n      localStorage.setItem(\"teacherName\", name);\r\n      localStorage.setItem(\"userRole\", role);\r\n  \r\n      if (role === \"teacher\") {\r\n        navigate(\"/dashboard\");\r\n      } else {\r\n        navigate(\"/admin-dashboard\"); // future\r\n      }\r\n    } else {\r\n      setMessage(\"Login failed. Try again.\");\r\n    }\r\n  };\r\n  "],"mappings":"AAAA,MAAMA,WAAW,GAAG,MAAOC,CAAC,IAAK;EAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;IAC9DC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEC,QAAQ;MAAEC;IAAS,CAAC;EAC7C,CAAC,CAAC;EAEF,IAAIR,QAAQ,CAACS,EAAE,EAAE;IACf,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;IAClC,MAAM;MAAEC,IAAI;MAAEC;IAAK,CAAC,GAAGH,IAAI;IAE3BI,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEH,IAAI,CAAC;IACzCE,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEF,IAAI,CAAC;IAEtC,IAAIA,IAAI,KAAK,SAAS,EAAE;MACtBG,QAAQ,CAAC,YAAY,CAAC;IACxB,CAAC,MAAM;MACLA,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC;IAChC;EACF,CAAC,MAAM;IACLC,UAAU,CAAC,0BAA0B,CAAC;EACxC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}